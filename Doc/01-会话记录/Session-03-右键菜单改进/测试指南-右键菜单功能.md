# 右键菜单功能测试指南

## ?? 测试目标
验证右键菜单的所有功能正常工作，体验是否流畅

---

## ? 快速验证（5分钟）

### 步骤1：基本右键菜单
1. ?? 启动应用
2. ??? 在任意待办项上点击鼠标右键
3. **验证**：
   - [ ] 菜单立即弹出
   - [ ] 显示：编辑、添加子项、删除
   - [ ] 每个菜单项都有图标

### 步骤2：测试编辑功能
1. ??? 右键点击待办项
2. 点击"编辑(E)"
3. **验证**：
   - [ ] 编辑窗口打开
   - [ ] 显示正确的待办项内容
   - [ ] 可以正常保存

### 步骤3：测试添加子项
1. ??? 右键点击待办项
2. 点击"添加子项(A)"
3. **验证**：
   - [ ] 编辑窗口打开
   - [ ] 标题显示"添加子项"
   - [ ] 保存后子项出现在父项下方

### 步骤4：测试删除功能
1. 创建一个测试待办项"测试删除"
2. ??? 右键点击"测试删除"
3. 点击"删除(D)"
4. **验证**：
   - [ ] 弹出确认对话框
   - [ ] 点击"是"后待办项被删除

---

## ?? 软件待办项专属功能测试

### 步骤1：创建软件待办项
1. 创建一个新待办项，类型选择"软件待办"
2. 绑定一个应用（如：记事本）
3. 保存

### 步骤2：查看软件待办项的右键菜单
1. ??? 右键点击刚创建的软件待办项
2. **验证菜单项**：
   - [ ] 编辑(E)
   - [ ] 添加子项(A)
   - [ ] ───── 分隔线
   - [ ] 强制唤起软件(L)
   - [ ] 开启注入(I) 或 关闭注入(I)
   - [ ] ───── 分隔线
   - [ ] 删除(D)

### 步骤3：测试强制唤起软件
1. ??? 右键点击软件待办项
2. 点击"强制唤起软件(L)"
3. **验证**：
   - [ ] 关联的应用程序启动
   - [ ] 没有错误提示

### 步骤4：测试注入切换
1. ??? 右键点击软件待办项
2. 观察菜单中的注入选项文本：
   - 如果显示"开启注入(I)"，点击它
   - 如果显示"关闭注入(I)"，点击它
3. **验证**：
   - [ ] 菜单文本改变（开启?关闭）
   - [ ] 待办项上的注入状态标签改变
   - [ ] 标签颜色改变（绿色?红色）

---

## ?? 注入状态可视化测试

### 注入状态标签显示

#### 测试1：未注入状态
1. 确保软件待办项的注入状态是"关闭"
2. **验证标签**：
   - [ ] 显示绿色标签
   - [ ] 文本：开启注入
   - [ ] 悬停提示：开启注入(_I)

#### 测试2：已注入状态
1. 开启软件待办项的注入
2. **验证标签**：
   - [ ] 显示红色标签
   - [ ] 文本：关闭注入
   - [ ] 悬停提示：关闭注入(_I)

#### 测试3：状态同步
1. 通过右键菜单切换注入状态
2. **验证**：
   - [ ] 标签颜色立即改变
   - [ ] 标签文本立即更新
   - [ ] 再次右键查看，菜单文本也已更新

---

## ?? 快捷键测试

### 测试方法
1. 右键点击待办项打开菜单
2. 按下键盘上的对应字母（不需要按Alt）

### 快捷键列表
- [ ] **按E** → 编辑窗口打开
- [ ] **按A** → 添加子项窗口打开
- [ ] **按L** → 强制启动软件（仅软件待办）
- [ ] **按I** → 切换注入状态（仅软件待办）
- [ ] **按D** → 删除确认对话框弹出

---

## ??? 多场景测试

### 场景1：普通待办项
1. 右键点击普通待办项
2. **验证**：
   - [ ] 只显示3个主要选项（编辑、添加、删除）
   - [ ] 没有软件专属选项
   - [ ] 没有额外的分隔线

### 场景2：软件待办项
1. 右键点击软件待办项
2. **验证**：
   - [ ] 显示5个选项（包含软件专属的2个）
   - [ ] 有2条分隔线
   - [ ] 软件专属选项在中间组

### 场景3：子待办项
1. 右键点击子待办项
2. **验证**：
   - [ ] 菜单正常显示
   - [ ] 所有功能正常工作

### 场景4：嵌套子项
1. 为子项添加子项（孙项）
2. 右键点击孙项
3. **验证**：
   - [ ] 菜单正常显示
   - [ ] 可以继续添加更深层级

---

## ?? 触摸操作测试（如果有触摸屏）

### 测试步骤
1. 使用手指长按待办项（约1秒）
2. **验证**：
   - [ ] 右键菜单弹出
   - [ ] 可以点击菜单项
   - [ ] 功能正常执行

---

## ?? 边界情况测试

### 测试1：菜单位置
1. 右键点击屏幕边缘的待办项
2. **验证**：
   - [ ] 菜单不会超出屏幕
   - [ ] 自动调整位置
   - [ ] 所有选项都可见

### 测试2：快速操作
1. 快速右键→点击编辑→快速关闭
2. 再次右键→点击删除
3. **验证**：
   - [ ] 没有卡顿
   - [ ] 没有错误
   - [ ] 操作响应流畅

### 测试3：连续操作
1. 右键点击多个不同的待办项
2. 每次都执行不同的操作
3. **验证**：
   - [ ] 每次菜单内容正确（普通/软件）
   - [ ] 操作的是正确的待办项
   - [ ] 没有串号

---

## ?? 数据绑定验证

### 测试1：菜单文本动态绑定
1. 创建软件待办项，注入状态为"关闭"
2. 右键查看菜单：应显示"开启注入(I)"
3. 点击开启注入
4. 再次右键查看菜单：应显示"关闭注入(I)"
5. **验证**：
   - [ ] 文本正确切换
   - [ ] 图标颜色正确切换（红色?绿色）

### 测试2：条件可见性绑定
1. 创建普通待办项
2. 右键查看菜单
3. **验证**：
   - [ ] "强制唤起软件"选项不可见
   - [ ] "开启/关闭注入"选项不可见
   - [ ] 中间的分隔线不可见

4. 修改为软件待办项（绑定应用）
5. 右键查看菜单
6. **验证**：
   - [ ] 软件专属选项出现
   - [ ] 分隔线出现

---

## ?? 性能测试

### 测试1：菜单响应速度
1. 右键点击待办项
2. **测量**：菜单弹出的延迟
3. **标准**：<100ms
4. **验证**：
   - [ ] 菜单立即弹出
   - [ ] 没有明显延迟

### 测试2：大量待办项
1. 创建50个待办项
2. 在列表中间的待办项上右键
3. **验证**：
   - [ ] 菜单弹出速度正常
   - [ ] 没有卡顿
   - [ ] 操作流畅

---

## ? 验收标准

### P0 - 必须通过
- [x] 编译成功
- [ ] 右键可以打开菜单
- [ ] 所有菜单项功能正常
- [ ] 软件待办项的专属功能正常
- [ ] 注入状态显示和切换正常

### P1 - 应该通过
- [ ] 快捷键全部工作
- [ ] 菜单图标显示正确
- [ ] 条件显示逻辑正确
- [ ] 注入状态标签颜色正确

### P2 - 可以优化
- [ ] 菜单样式美观
- [ ] 触摸操作流畅
- [ ] 性能优秀

---

## ?? 问题记录模板

### 发现问题时填写

**问题1：**
- **描述**：____________
- **复现步骤**：
  1. ____________
  2. ____________
- **期望结果**：____________
- **实际结果**：____________
- **严重程度**：[ ] P0 [ ] P1 [ ] P2
- **截图**：____________

---

## ?? 测试报告

### 测试信息
- **测试日期**：____________
- **测试人**：____________
- **系统环境**：Windows _____ 
- **测试时长**：_____ 分钟

### 测试结果汇总

| 测试项 | 通过 | 失败 | 备注 |
|--------|------|------|------|
| 基本右键菜单 | [ ] | [ ] | |
| 编辑功能 | [ ] | [ ] | |
| 添加子项 | [ ] | [ ] | |
| 删除功能 | [ ] | [ ] | |
| 强制唤起软件 | [ ] | [ ] | |
| 注入切换 | [ ] | [ ] | |
| 注入状态标签 | [ ] | [ ] | |
| 快捷键 | [ ] | [ ] | |
| 条件显示 | [ ] | [ ] | |
| 数据绑定 | [ ] | [ ] | |
| 性能 | [ ] | [ ] | |

### 总体评价
- **功能完整性**：[ ] 100% [ ] 90-99% [ ] 80-89% [ ] <80%
- **用户体验**：[ ] 优秀 [ ] 良好 [ ] 一般 [ ] 较差
- **性能表现**：[ ] 优秀 [ ] 良好 [ ] 一般 [ ] 较差
- **推荐发布**：[ ] 是 [ ] 否

### 发现的问题
1. ____________
2. ____________
3. ____________

### 建议
1. ____________
2. ____________
3. ____________

---

## ?? 测试通过标准

当以下所有项目都完成时，测试通过：

1. ? 所有P0项目通过
2. ? 至少90%的P1项目通过
3. ? 没有P0级别的bug
4. ? P1级别的bug不超过3个
5. ? 用户反馈积极

---

**测试文档版本**：1.0  
**创建日期**：2025-01-XX  
**创建工具**：GitHub Copilot
