# 图标名称手动修复指南 - 标记版

> **创建时间**: 2025-01-02  
> **状态**: 需要用户手动处理  
> **原因**: 无法验证 MaterialDesign 图标包中的有效图标名称

---

## ? 问题确认

AI 无法直接验证 `PackIconMaterialDesign` 的有效图标名称，因为这需要运行时访问图标包的枚举。

### 错误信息
```
FormatException: PlusCircleOutline is not a valid value for PackIconMaterialDesignKind.
ArgumentException: Requested value 'PlusCircleOutline' was not found.
```

---

## ?? 需要手动修复的位置

### **位置 1: TagsPanelControl.xaml**

**文件**: `Views/TagsPanelControl.xaml`  
**行号**: 第 39 行附近

```xml
<!-- ? 当前（错误）-->
<iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" Width="10" Height="10"/>

<!-- ? 当前（错误）-->
<iconPacks:PackIconMaterialDesign Kind="CogOutline" Width="10" Height="10"/>
```

---

### **位置 2: ScheduledTasksPage.xaml**

**文件**: `Views/ScheduledTasksPage.xaml`  
**行号**: 第 30 行附近

```xml
<!-- ? 当前（错误）-->
<iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" Width="12" Height="12"/>
```

---

### **位置 3: TagManagementWindow.xaml**

**文件**: `Views/TagManagementWindow.xaml`  
**行号**: 第 39 行附近

```xml
<!-- ? 当前（错误）-->
<iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" Width="12" Height="12"/>
```

---

## ?? 推荐的修复方案

### 方案 A: 使用 Visual Studio 智能提示（最推荐）

1. 在 Visual Studio 中打开 XAML 文件
2. 找到 `Kind="PlusCircleOutline"`
3. 删除 `PlusCircleOutline` 文本
4. 输入 `Kind="`，然后按 **Ctrl+Space**
5. 在弹出的列表中搜索 "Plus" 或 "Add"
6. 选择一个有效的图标名称

### 方案 B: 使用 HandyControl 的 Path Geometry（推荐）

项目中其他地方都使用了 HandyControl 的几何图形系统，建议统一使用这种方式：

```xml
<!-- ? 推荐：使用 HandyControl Geometry -->
<Path Data="{StaticResource AddGeometry}" 
      Fill="{DynamicResource PrimaryTextBrush}"
      Width="10" 
      Height="10"
      Stretch="Uniform"/>
```

**优点**:
- ? 与项目其他部分一致
- ? HandyControl 提供了丰富的几何图形
- ? 不依赖外部图标包
- ? 样式统一

**项目中已使用的几何图形**:
- `AddGeometry` - 加号
- `SearchGeometry` - 搜索/编辑
- `DeleteFillCircleGeometry` - 删除
- `SuccessGeometry` - 成功/设置
- `EyeOpenGeometry` - 眼睛/查看

### 方案 C: 测试常见的图标名称

如果坚持使用 `PackIconMaterialDesign`，可以尝试以下名称：

**加号图标（按推荐度排序）**:
```xml
<!-- 尝试1 -->
<iconPacks:PackIconMaterialDesign Kind="Add"/>

<!-- 尝试2 -->
<iconPacks:PackIconMaterialDesign Kind="PlusCircle"/>

<!-- 尝试3 -->
<iconPacks:PackIconMaterialDesign Kind="AddCircle"/>

<!-- 尝试4 -->
<iconPacks:PackIconMaterialDesign Kind="AddCircleOutline"/>

<!-- 尝试5 -->
<iconPacks:PackIconMaterialDesign Kind="PlusBox"/>
```

**设置图标（按推荐度排序）**:
```xml
<!-- 尝试1 -->
<iconPacks:PackIconMaterialDesign Kind="Cog"/>

<!-- 尝试2 -->
<iconPacks:PackIconMaterialDesign Kind="Settings"/>

<!-- 尝试3 -->
<iconPacks:PackIconMaterialDesign Kind="SettingsOutline"/>
```

---

## ??? 具体修复步骤

### 步骤 1: 修复 TagsPanelControl.xaml

打开文件: `Views/TagsPanelControl.xaml`

找到第 39 行附近的代码:
```xml
<StackPanel Grid.Row="1" Orientation="Horizontal">
    <Button Click="AddTag_Click"
            ToolTip="New Tag"
            Style="{StaticResource ButtonPrimary}"
            Padding="6,4"
            Margin="0,0,4,0">
        <!-- ?? 需要修复这里 -->
        <iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" Width="10" Height="10"/>
    </Button>

    <Button Click="ManageTags_Click"
            ToolTip="Manage Tags"
            Style="{StaticResource ButtonDefault}"
            Padding="6,4"
            Margin="0,0,4,0">
        <!-- ?? 需要修复这里 -->
        <iconPacks:PackIconMaterialDesign Kind="CogOutline" Width="10" Height="10"/>
    </Button>
```

**推荐修复（使用 HandyControl Geometry）**:
```xml
<StackPanel Grid.Row="1" Orientation="Horizontal">
    <Button Click="AddTag_Click"
            ToolTip="New Tag"
            Style="{StaticResource ButtonPrimary}"
            Padding="6,4"
            Margin="0,0,4,0">
        <!-- ? 修复后 -->
        <Path Data="{StaticResource AddGeometry}" 
              Fill="White"
              Width="10" 
              Height="10"
              Stretch="Uniform"/>
    </Button>

    <Button Click="ManageTags_Click"
            ToolTip="Manage Tags"
            Style="{StaticResource ButtonDefault}"
            Padding="6,4"
            Margin="0,0,4,0">
        <!-- ? 修复后 -->
        <Path Data="{StaticResource SuccessGeometry}" 
              Fill="{DynamicResource PrimaryTextBrush}"
              Width="10" 
              Height="10"
              Stretch="Uniform"/>
    </Button>
```

### 步骤 2: 修复 ScheduledTasksPage.xaml

打开文件: `Views/ScheduledTasksPage.xaml`

找到第 30 行附近的代码:
```xml
<Button Grid.Column="1"
        Command="{Binding AddTaskCommand}"
        Style="{StaticResource ButtonPrimary}"
        Margin="8,0,0,0">
    <StackPanel Orientation="Horizontal">
        <!-- ?? 需要修复这里 -->
        <iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" 
                                      Width="12" 
                                      Height="12" 
                                      Margin="0,0,8,0"/>
        <TextBlock Text="Add Task"/>
    </StackPanel>
</Button>
```

**推荐修复**:
```xml
<Button Grid.Column="1"
        Command="{Binding AddTaskCommand}"
        Style="{StaticResource ButtonPrimary}"
        Margin="8,0,0,0">
    <StackPanel Orientation="Horizontal">
        <!-- ? 修复后 -->
        <Path Data="{StaticResource AddGeometry}" 
              Fill="White"
              Width="12" 
              Height="12"
              Stretch="Uniform"
              Margin="0,0,8,0"/>
        <TextBlock Text="Add Task"/>
    </StackPanel>
</Button>
```

### 步骤 3: 修复 TagManagementWindow.xaml

打开文件: `Views/TagManagementWindow.xaml`

找到第 39 行附近的代码:
```xml
<Button Click="AddTag_Click"
        Style="{StaticResource ButtonPrimary}"
        Margin="0,0,8,0">
    <StackPanel Orientation="Horizontal">
        <!-- ?? 需要修复这里 -->
        <iconPacks:PackIconMaterialDesign Kind="PlusCircleOutline" 
                                      Width="12" 
                                      Height="12" 
                                      Margin="0,0,6,0"/>
        <TextBlock Text="New Tag"/>
    </StackPanel>
</Button>
```

**推荐修复**:
```xml
<Button Click="AddTag_Click"
        Style="{StaticResource ButtonPrimary}"
        Margin="0,0,8,0">
    <StackPanel Orientation="Horizontal">
        <!-- ? 修复后 -->
        <Path Data="{StaticResource AddGeometry}" 
              Fill="White"
              Width="12" 
              Height="12"
              Stretch="Uniform"
              Margin="0,0,6,0"/>
        <TextBlock Text="New Tag"/>
    </StackPanel>
</Button>
```

---

## ?? HandyControl 可用的几何图形列表

查看项目中 `App.xaml` 或 HandyControl 文档，以下是常用的几何图形：

| 功能 | Geometry 名称 | 说明 |
|------|--------------|------|
| 添加/加号 | `AddGeometry` | ? 推荐用于新建按钮 |
| 编辑/搜索 | `SearchGeometry` | 编辑图标 |
| 删除 | `DeleteFillCircleGeometry` | 删除按钮 |
| 设置/成功 | `SuccessGeometry` | 设置或成功状态 |
| 刷新 | `RefreshGeometry` | 刷新按钮 |
| 查看 | `EyeOpenGeometry` | 查看/预览 |
| 时钟 | `ClockGeometry` | 时间相关 |
| 筛选 | `FilterGeometry` | 筛选功能 |

---

## ? 验证修复

修复完成后:

1. **保存所有文件**
2. **重新构建项目**:
   ```
   Ctrl+Shift+B
   ```
3. **运行应用**:
   ```
   F5
   ```
4. **检查图标是否正常显示**

---

## ?? 参考资源

1. **HandyControl 文档**: https://handyorg.github.io/
2. **MahApps IconPacks**: https://github.com/MahApps/MahApps.Metro.IconPacks
3. **MaterialDesign Icons 在线查看**: https://materialdesignicons.com/

---

## ?? 为什么推荐使用 HandyControl Geometry

### 对比分析

| 特性 | PackIconMaterialDesign | HandyControl Geometry |
|------|----------------------|----------------------|
| **一致性** | 与项目其他部分不一致 | ? 项目中广泛使用 |
| **依赖** | 需要外部图标包 | ? HandyControl 内置 |
| **兼容性** | 图标名称可能变化 | ? 稳定的几何图形 |
| **样式** | 固定样式 | ? 可自定义颜色和大小 |
| **性能** | 字体图标 | ? 矢量路径（更高效） |

### 项目中的使用情况

在 `TodoItemControl.xaml` 中，所有图标都使用了 `Path + Geometry` 方式：

```xml
<!-- 编辑图标 -->
<Path Data="{StaticResource SearchGeometry}" 
      Fill="{DynamicResource PrimaryTextBrush}"/>

<!-- 添加图标 -->
<Path Data="{StaticResource AddGeometry}" 
      Fill="{DynamicResource PrimaryTextBrush}"/>

<!-- 删除图标 -->
<Path Data="{StaticResource DeleteFillCircleGeometry}" 
      Fill="{DynamicResource DangerBrush}"/>
```

**建议**: 统一使用 `Path + Geometry` 方式，保持项目风格一致。

---

## ?? 需要帮助？

如果您在修复过程中遇到问题：

1. 确认 `App.xaml` 中已引用 HandyControl 资源
2. 查看项目中其他使用图标的地方作为参考
3. 如果 Geometry 名称不存在，可以在 HandyControl 源码中查找

---

**文档版本**: 1.0  
**创建时间**: 2025-01-02  
**状态**: 待用户处理

---

## ?? 下一步

完成修复后，请：
1. ? 运行验证脚本确认无错误
2. ? 提交代码更改
3. ? 更新此文档状态为"已完成"
