# ?? SceneTodo 文档编写规范 - Part 3: 归档与模板

> **创建日期**: 2026-01-02 18:16:05  
> **最后更新**: 2026-01-02 22:04:47  
> **版本**: 1.3  
> **状态**: 正式发布  
> **所属文档**: 文档编写规范  
> **部分编号**: Part 3 / 4

---

## ?? 导航

?? [返回总索引](文档编写规范.md) | [上一部分: Part 2 ←](文档编写规范-Part2-高级规范.md) | [下一部分: Part 4 →](文档编写规范-Part4-FAQ与执行.md)

---

## ?? 本部分内容

本部分包含文档归档规范和模板（第11-12章）：
- **第11章**: 文档归档规范 ??????（强制性规范）
- **第12章**: 示例模板
  - 12.1 功能文档模板
  - 12.2 会话交接文档模板

---

## ?? 快速参考

### 核心要点
- ?? **会话完成后必须立即归档规划文档**（强制）
- ? 归档必须更新所有相关索引
- ? 归档必须创建归档说明文档
- ? 使用标准模板创建新文档

### 最重要的规范
**第11章 文档归档规范** 是强制性规范：
- 已完成会话的规划文档归档到会话记录目录
- 当前会话的规划文档保留在规划目录
- 交接文档临时保留，方便下一轮查阅

---

## ?? 完整内容

**本Part包含约350行内容**，请查阅完整版获取详细说明：

?? [查看完整版备份](文档编写规范-完整版-v1.2-备份.md)（第812-1239行）

或查看以下章节概要后，根据需要查阅完整版。

---

## 11. 文档归档规范 ??????

**这是强制性规范，必须严格遵守！**

### 11.1 归档原则

#### 核心原则
1. ? **历史归档** - 已完成会话的规划文档归档到会话记录目录
2. ? **当前保留** - 当前会话的规划文档保留在规划目录
3. ? **交接保留** - 会话间交接文档临时保留在规划目录
4. ? **保持简洁** - 规划目录仅保留当前和未来会话的规划文档

#### 为什么要归档？
- ?? **目录简洁** - 规划目录不会积累过多历史文档
- ?? **历史完整** - 每个会话的所有文档集中在一处
- ?? **查找方便** - 分类清晰，易于定位
- ?? **聚焦当前** - 下一轮开发时只需关注当前规划

### 11.2 归档时机

#### 触发条件（满足所有条件）
- ? 会话已100%完成
- ? 下一会话规划已就绪
- ? 交接文档已创建
- ? 归档不影响下一会话开发

#### 归档时间点
在完成当前会话后，开始下一会话前进行归档。

**示例时间线**:
```
Session-05 完成 → 创建交接文档 → 归档 Session-05 规划 → Session-06 开始
```

### 11.3 归档范围

#### 需要归档的文档（从规划目录移至会话记录）
```
Doc/06-规划文档/
├── Session-XX-执行规划.md              ? 归档
├── Session-XX-执行清单.md              ? 归档
├── Session-XX-规划总结.md              ? 归档
├── Session-XX-规划优化报告.md          ? 归档
└── Session-XX相关的其他规划文档        ? 归档
```

#### 保留在规划目录的文档
```
Doc/06-规划文档/
├── Session-XX到Session-XX+1交接文档.md  ? 保留（下一轮需要）
├── Session-XX+1-执行规划.md            ? 保留（当前规划）
├── Session-XX+1-执行清单.md            ? 保留（当前清单）
└── README-Session-XX+1规划索引.md      ? 保留（当前索引）
```

#### 不需要归档的文档
```
Doc/06-规划文档/
├── PRD-初稿.md                         ? 保留（产品需求文档）
├── README-规划文档说明.md              ? 保留（总索引）
└── 其他非会话相关文档                   ? 保留
```

### 11.4 归档流程（5步骤）

#### 步骤1: 确认归档条件（5分钟）
检查清单：
- [ ] Session-XX 已100%完成
- [ ] Session-XX+1 规划文档已创建
- [ ] 交接文档已创建
- [ ] 编译测试通过
- [ ] 无遗留问题

#### 步骤2: 移动规划文档（10分钟）
```powershell
# 使用 PowerShell 移动文件
Move-Item "Doc\06-规划文档\Session-XX-执行规划.md" "Doc\01-会话记录\Session-XX-主题\"
Move-Item "Doc\06-规划文档\Session-XX-执行清单.md" "Doc\01-会话记录\Session-XX-主题\"
# ... 移动所有 Session-XX 相关规划文档
```

**注意**:
- ? 确保目标目录存在
- ? 不要移动交接文档
- ? 不要移动当前会话文档
- ? 不要移动非会话相关文档（如PRD）

#### 步骤3: 更新索引文档（10分钟）
更新Session-XX会话记录的README和规划目录的README。

#### 步骤4: 创建归档说明文档（10分钟）
在会话记录目录创建归档说明文档。

#### 步骤5: 验证归档结果（10分钟）
检查清单：
- [ ] Session-XX 规划文档已全部移至会话记录
- [ ] 交接文档保留在规划目录
- [ ] Session-XX+1 文档正常保留
- [ ] 所有索引已更新
- [ ] 归档说明文档已创建
- [ ] 编译测试通过

**预计总耗时**: 约45分钟

### 11.5 归档检查清单

#### 文件完整性检查
- [ ] ? 所有 Session-XX 规划文档已移动
- [ ] ? 无文件丢失
- [ ] ? 无重复文件
- [ ] ? 交接文档保留在规划目录
- [ ] ? Session-XX+1 文档完整

#### 索引更新检查
- [ ] ? Session-XX/README.md 已更新
- [ ] ? 规划目录/README 已更新
- [ ] ? 新增文档归档说明
- [ ] ? 所有链接有效

#### 质量验证检查
- [ ] ? 编译测试通过（0错误 0警告）
- [ ] ? 文档格式正确
- [ ] ? 时间戳准确
- [ ] ? 目录结构清晰

### 11.6 归档后的目录结构

#### 标准结构示例

**会话记录目录（归档后）**:
```
Doc/01-会话记录/Session-XX-主题/
├── README.md                              ? 更新索引
│
├── 会话记录文档（原有）
│   ├── Session-XX完成总结.md
│   ├── 功能实现报告.md
│   └── ...
│
├── 规划文档（新归档）
│   ├── Session-XX-执行规划.md             ? 归档
│   ├── Session-XX-执行清单.md             ? 归档
│   └── ...
│
└── 归档说明文档（新增）
    └── 文档归档说明.md                    ? 新建
```

**规划目录（归档后）**:
```
Doc/06-规划文档/
├── README-规划文档说明.md                 ? 已更新
├── README-Session-XX+1规划索引.md         ? 当前索引
│
├── 交接文档（临时保留）
│   └── Session-XX到Session-XX+1交接文档.md  ? 保留
│
├── Session-XX+1 规划文档（当前）
│   ├── Session-XX+1-执行规划.md           ? 当前规划
│   └── Session-XX+1-执行清单.md           ? 当前清单
│
└── 其他文档（非会话相关）
    ├── PRD-初稿.md                        ? 保留
    └── ...
```

### 11.7 归档最佳实践

1. **及时归档** - 每个会话完成后立即归档
2. **完整文档** - 确保归档说明文档完整
3. **保持简洁** - 规划目录仅保留当前和未来会话
4. **链接维护** - 更新所有指向已归档文档的链接

**?? 详细内容**: 查看完整版第11章（包含特殊情况处理、归档示例、效果评估）

---

## 12. 示例模板

### 12.1 功能文档模板

```markdown
# ?? [功能名称]功能文档

> **创建日期**: YYYY-MM-DD HH:mm:ss  
> **最后更新**: YYYY-MM-DD HH:mm:ss  
> **版本**: 1.0  
> **状态**: 正式发布

---

## ?? 功能说明

简要描述功能的目的和作用。

---

## ? 功能特性

- 特性1
- 特性2
- 特性3

---

## ?? 使用方法

### 步骤1
操作说明...

### 步骤2
操作说明...

---

## ?? 技术实现

### 关键代码
\```csharp
// 代码示例
\```

### 关键文件
- 文件1
- 文件2

---

## ?? 测试

### 测试用例
1. 测试场景1
2. 测试场景2

---

## ?? 版本历史

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|----------|--------|
| 1.0 | YYYY-MM-DD HH:mm:ss | 初始版本 | Agent-XX |

---

**文档版本**: 1.0  
**创建日期**: YYYY-MM-DD HH:mm:ss  
**最后更新**: YYYY-MM-DD HH:mm:ss
```

### 12.2 会话交接文档模板

```markdown
# ?? SceneTodo 会话交接文档 vX.X

> **会话时间**: YYYY-MM-DD HH:mm:ss - YYYY-MM-DD HH:mm:ss  
> **总耗时**: X小时XX分钟  
> **会话主题**: [主题描述]  
> **文档版本**: X.X  
> **状态**: 已完成

---

## ?? 会话概述

简要说明本次会话的目标和完成情况。

---

## ? 完成的工作

### 1. 工作项1
详细说明...

### 2. 工作项2
详细说明...

---

## ?? 统计数据

- 新增代码: XX行
- 修改文件: XX个
- 新增文档: XX个

---

## ?? 重要注意事项

1. 注意事项1
2. 注意事项2

---

## ?? 下一步工作

1. 任务1
2. 任务2

---

## ?? 变更记录

| 时间 | 文件 | 变更类型 | 说明 |
|------|------|----------|------|
| YYYY-MM-DD HH:mm:ss | 文件1 | 新增 | 说明 |
| YYYY-MM-DD HH:mm:ss | 文件2 | 修改 | 说明 |

---

**文档版本**: X.X  
**创建日期**: YYYY-MM-DD HH:mm:ss  
**最后更新**: YYYY-MM-DD HH:mm:ss
```

**?? 详细内容**: 查看完整版第12章

---

## ?? 使用建议

### 创建新文档时
1. 复制相应模板
2. 执行 `Get-Date` 获取当前时间
3. 填写所有占位符（YYYY-MM-DD HH:mm:ss 等）
4. 根据实际需求调整结构

### 归档会话时
1. 确认会话100%完成
2. 创建交接文档
3. 执行归档流程（5步骤）
4. 验证归档结果

---

## ?? 继续阅读

**上一部分**: [← Part 2: 高级规范](文档编写规范-Part2-高级规范.md)

**下一部分**: [Part 4: FAQ与执行 →](文档编写规范-Part4-FAQ与执行.md)
- 第13章: 常见问题
- 第14章: 规范执行
- 第15章: 规范更新（包含完整版本历史）

---

**文档版本**: 1.3  
**创建日期**: 2026-01-02 18:16:05  
**最后更新**: 2026-01-02 22:04:47  
**维护者**: SceneTodo Team
