# 主页显示优化和应用绑定继承 - 快速测试指南

## ?? 快速测试流程

### 第一部分：主页显示优化测试

#### 测试1：优先级标签显示
1. 启动应用
2. 创建几个不同优先级的待办项：
   - "极高优先级任务" - 设置优先级为"极高"
   - "高优先级任务" - 设置优先级为"高"
   - "中优先级任务" - 设置优先级为"中"（默认）
   - "低优先级任务" - 设置优先级为"低"
   - "极低优先级任务" - 设置优先级为"极低"
3. **验证**：
   - ? 每个待办项右侧显示彩色优先级标签
   - ? 标签颜色符合优先级（红色→灰色递减）
   - ? 标签文本显示中文（极高、高、中、低、极低）

#### 测试2：子项数量标签
1. 创建一个待办项"父任务"
2. 为"父任务"添加3个子任务
3. **验证**：
   - ? "父任务"右侧显示蓝色标签"?? 3"
   - ? 子任务不显示子项数量标签（因为没有子任务）
4. 删除一个子任务
5. **验证**：
   - ?? 标签数量可能不会立即更新（已知限制）
   - ? 刷新应用后显示"?? 2"

#### 测试3：时间信息显示
1. 创建待办项"时间测试"
2. 设置所有时间字段：
   - 开始时间：今天 09:00
   - 结束时间：今天 18:00
   - 提醒时间：今天 08:30
3. **验证**：
   - ? 待办项下方显示三行时间信息
   - ? 开始/结束时间为灰色
   - ? 提醒时间为橙色（高亮）
   - ? 格式：?? 开始: 2024-01-01 09:00

4. 创建另一个待办项"部分时间"
5. 只设置开始时间和提醒时间
6. **验证**：
   - ? 只显示设置了的时间字段
   - ? 结束时间不显示

7. 创建待办项"无时间"，不设置任何时间
8. **验证**：
   - ? 时间行不显示或为空

---

### 第二部分：应用绑定继承测试

#### 测试4：根级待办项可以设置应用绑定
1. 创建根级待办项"VS开发任务"
2. 双击编辑，或点击编辑按钮
3. 在编辑窗口：
   - 修改待办类型为"软件待办"
   - 点击"选择软件"，选择Visual Studio或其他应用
   - 设置遮盖层位置为"右下角"
   - 设置偏移量 X: 10, Y: 10
4. 保存
5. **验证**：
   - ? 待办项前显示应用图标
   - ? 设置被保存
   - ? 可以再次编辑并修改应用绑定

#### 测试5：子级待办项自动继承
1. 在"VS开发任务"下添加子任务"完成登录功能"
2. **验证**：
   - ? 子任务自动显示VS图标
   - ? 子任务前有缩进，表示层级关系

3. 双击编辑"完成登录功能"
4. **验证**：
   - ? 应用路径显示"应用路径 (继承自父级):"
   - ? 应用类型下拉框被禁用（灰色）
   - ? 应用路径输入框被禁用，显示灰色背景
   - ? 应用名称输入框被禁用，显示灰色背景
   - ? "选择软件"按钮被禁用
   - ? 遮盖层位置和偏移量控件被禁用

5. 修改子任务的其他字段：
   - 内容改为"完成登录和注册功能"
   - 优先级改为"高"
   - 设置开始时间
6. 保存
7. **验证**：
   - ? 内容、优先级、时间被成功修改
   - ? 应用绑定信息未改变（仍然绑定VS）

#### 测试6：多层级继承
1. 在"完成登录功能"下再添加子任务"设计UI"
2. **验证**：
   - ? "设计UI"（孙级节点）也继承了VS绑定
   - ? 编辑时应用绑定控件被禁用

#### 测试7：修改父级绑定的影响
1. 编辑"VS开发任务"
2. 修改绑定应用为Chrome（或其他应用）
3. 保存
4. **验证**：
   - ? 父级任务显示新的应用图标
   - ?? 子任务可能仍显示旧图标（已知限制）
   - ? 重启应用后，所有子任务显示新图标

---

### 第三部分：边界情况测试

#### 测试8：根级→子级转换（不支持）
当前系统不支持将根级任务移动为子任务，这是预期行为。

#### 测试9：子级→根级转换（不支持）
当前系统不支持将子任务移动为根任务，这是预期行为。

#### 测试10：应用绑定冲突避免
1. 创建根级任务"Chrome任务"，绑定Chrome
2. 创建根级任务"VS任务"，绑定VS
3. 在"Chrome任务"下添加子任务
4. 在"VS任务"下添加子任务
5. **验证**：
   - ? Chrome的子任务只显示在Chrome遮盖层
   - ? VS的子任务只显示在VS遮盖层
   - ? 不会出现混乱

---

## ? 验收标准

### 显示优化 (5/5)
- [ ] 优先级标签正确显示，颜色和文本正确
- [ ] 子项数量标签在有子项时显示
- [ ] 时间信息正确显示，格式和颜色正确
- [ ] 只有设置了的时间字段才显示
- [ ] 整体布局清晰，没有重叠

### 应用绑定继承 (7/7)
- [ ] 根级待办项可以自由设置应用绑定
- [ ] 子级待办项自动继承父级绑定
- [ ] 子级待办项的应用绑定控件被禁用
- [ ] 子级待办项显示"继承自父级"提示
- [ ] 子级待办项可以修改其他字段
- [ ] 多层级继承正确工作
- [ ] 不会出现应用绑定冲突

### 用户体验 (3/3)
- [ ] 编辑界面直观，容易理解
- [ ] 禁用的控件视觉上明显（灰色背景）
- [ ] 没有误导性的交互

---

## ?? 截图验证

建议在以下场景截图记录：

1. **主页视图** - 显示所有优化元素
   - 不同优先级的待办项
   - 有子项数量的待办项
   - 显示时间信息的待办项

2. **编辑根级待办项** - 所有控件可用

3. **编辑子级待办项** - 应用绑定控件被禁用

4. **遮盖层显示** - 验证继承的应用绑定生效

---

## ?? 问题报告模板

如果发现问题，请使用以下模板报告：

```
**问题描述**：

**复现步骤**：
1. 
2. 
3. 

**预期结果**：

**实际结果**：

**截图**：

**环境信息**：
- 系统版本：Windows 10/11
- 应用版本：
- 测试时间：
```

---

## ?? 测试记录

测试日期：____________  
测试人：____________  

### 显示优化测试结果
- 优先级标签：[ ] 通过  [ ] 失败  
- 子项数量：[ ] 通过  [ ] 失败  
- 时间信息：[ ] 通过  [ ] 失败  

### 应用绑定继承测试结果
- 根级设置：[ ] 通过  [ ] 失败  
- 子级继承：[ ] 通过  [ ] 失败  
- 控件禁用：[ ] 通过  [ ] 失败  
- 多层级：[ ] 通过  [ ] 失败  

### 问题列表
1. 
2. 
3. 

---

**测试完成签名**：____________  
**日期**：____________
