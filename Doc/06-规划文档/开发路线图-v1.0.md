# SceneTodo 开发路线图 v1.0

> **更新日期**: 2025-01-02  
> **当前版本**: v0.75 (Session-10完成)  
> **目标版本**: v1.0  
> **预计完成**: 2025-02-28

---

## ?? 当前状态

### 整体进度

```
已完成功能:     ???????  70%
P0 核心功能:    ????????  70% ??
P1 优先功能:    ????????????????????   0% ?
P2 次要功能:    ????????????????????   0% ?
P3 后续功能:    ????????????????????   0% ?
```

### 已完成会话

- ? **Session-01 ~ 06**: 基础功能和 P0 核心 (45%)
- ? **Session-07**: 定时任务后端架构 (60%)
- ? **Session-08**: 定时任务 UI 界面 (90%)
- ? **Session-09**: 定时任务完整集成 (100%)
- ? **Session-10**: 截止时间系统 (100%) ? 最新

**累计开发**: 约 32-36 小时

---

## ?? Phase 1: P0 核心功能完善

**目标**: 将 P0 功能完成度从 70% 提升到 90%+  
**预计时间**: 5-7 小时 (2-3 个会话)  
**状态**: ?? 进行中

### Session-10: 截止时间功能 ????? ?

**时间**: 3-4 小时  
**优先级**: P0  
**状态**: ? 已完成 (2025-01-02)

**已完成**:
- ? DueDate 数据模型和数据库
- ? 日期时间选择器
- ? 过期提醒通知系统
- ? 日历视图集成
- ? 过期显示（红色高亮）
- ? 相对时间显示
- ? Bug修复（2个）

**成果**: P0 完成度提升至 70%

**详细总结**: [Session-10完成总结](../01-会话记录/Session-10/Session-10完成总结.md)

---

### Session-11: 分类标签系统 ???? ??

**时间**: 3-4 小时  
**优先级**: P0  
**状态**: ?? 下一步

**目标**:
- [ ] Tag 数据模型和多对多关系
- [ ] 标签管理界面（CRUD）
- [ ] 待办标签关联
- [ ] 标签显示和样式
- [ ] 按标签筛选查看

**详细规划**: [Session-11-分类标签系统规划.md](./Session-11-分类标签系统规划.md)  
**快速启动**: [Session-11-快速启动.md](./Session-11-快速启动.md)

**价值**: 分类管理是多待办场景的核心需求，完成后 P0 达到 80%+

---

### Session-12: 数据备份恢复 ????

**时间**: 2-3 小时  
**优先级**: P0  
**状态**: ?? 待开始

**目标**:
- [ ] 导出为 JSON
- [ ] 导入 JSON 恢复
- [ ] 备份管理界面
- [ ] 自动备份定时任务

**详细任务**:

#### 1. 导出功能 (0.5h)
```csharp
public class BackupService
{
    public async Task<string> ExportToJson()
    {
        var data = new
        {
            Version = "1.0",
            ExportDate = DateTime.Now,
            TodoItems = await App.TodoItemRepository.GetAllAsync(),
            AutoTasks = await App.AutoTaskRepository.GetAllAsync(),
            Tags = await App.TagRepository.GetAllAsync(),
        };
        
        return JsonSerializer.Serialize(data, new JsonSerializerOptions 
        { 
            WriteIndented = true 
        });
    }
}
```

#### 2. 导入功能 (1h)
- JSON 解析和验证
- ID 冲突处理
- 数据合并策略
- 进度显示

#### 3. 备份管理 (0.5h)
- BackupManagementWindow.xaml
- 备份列表展示
- 还原点选择

#### 4. 自动备份 (0.5h)
- 定时任务集成
- 备份策略配置
- 自动清理旧备份

**价值**: 数据安全是软件可靠性的基础，完成后 P0 达到 85%+

---

## ?? Phase 2: UI/UX 优化

**目标**: 提升用户体验和界面美观度  
**预计时间**: 4-6 小时 (2 个会话)  
**状态**: ?? 待开始

### Session-13: 界面优化 ???

**时间**: 2-3 小时  
**优先级**: P0  
**状态**: ?? 待开始

**目标**:
- [ ] 遮盖层透明度动态调节
- [ ] 折叠/展开待办列表
- [ ] 提醒方式配置
- [ ] 界面细节优化

**详细任务**:

#### 1. 透明度调节 (1h)
- 设置界面添加滑块
- OpacitySlider 绑定
- 实时预览效果
- 保存到配置

#### 2. 折叠展开 (0.5h)
- OverlayWindow 添加折叠按钮
- 动画效果
- 状态持久化

#### 3. 提醒配置 (0.5h)
- 提醒方式选择（弹窗/声音/托盘）
- 提醒时间配置
- 免打扰模式

#### 4. 细节优化 (0.5h)
- 图标统一
- 间距调整
- 动画过渡

---

### Session-14: 性能和稳定性 ???

**时间**: 2-3 小时  
**优先级**: P0  
**状态**: ?? 待开始

**目标**:
- [ ] 性能优化
- [ ] 内存泄漏检查
- [ ] 异常处理完善
- [ ] 单元测试

**详细任务**:

#### 1. 性能优化 (1h)
- OverlayWindow 渲染优化
- 数据加载优化
- 窗口监听优化

#### 2. 内存管理 (0.5h)
- 窗口资源释放
- 事件订阅清理
- WeakReference 使用

#### 3. 异常处理 (0.5h)
- 全局异常捕获
- 错误日志记录
- 友好错误提示

#### 4. 单元测试 (1h)
- 核心逻辑测试
- Repository 测试
- Converter 测试

---

## ?? Phase 3: 云同步和账号系统

**目标**: 实现多设备协同  
**预计时间**: 15-20 小时 (4-5 个会话)  
**状态**: ?? 待开始

### Session-15-16: 后端 API 服务

**时间**: 10-15 小时  
**优先级**: P0  
**状态**: ?? 待开始

**技术栈选择**:
- **选项 A**: ASP.NET Core Web API + Azure/阿里云
- **选项 B**: Firebase (快速原型)
- **选项 C**: Supabase (开源替代)

**功能**:
- [ ] 用户注册/登录
- [ ] JWT 身份验证
- [ ] 数据同步 API
- [ ] 冲突解决策略

### Session-17-18: 客户端集成

**时间**: 5-8 小时  
**优先级**: P0  
**状态**: ?? 待开始

**功能**:
- [ ] 登录界面
- [ ] 账号管理
- [ ] 同步逻辑
- [ ] 离线缓存
- [ ] 冲突解决 UI

---

## ?? Phase 4: 插件体系 (V1.1)

**目标**: 实现 P1 核心差异化功能  
**预计时间**: 25-35 小时 (6-8 个会话)  
**状态**: ?? 需要重新评估

### 重要决策点 ??

**问题**: 插件体系是否符合产品定位？

**选项 A: 简洁高效工具**
- 专注 P0 核心功能
- 插件降为 P2 或取消
- 快速迭代优化

**选项 B: 可扩展平台**
- 插件提升为 P0
- 构建插件生态
- 长期投入开发

**建议**: 先完成 Phase 1-3，根据用户反馈决定

### Session-19-21: 插件架构 (如果实施)

**时间**: 10-12 小时  
**优先级**: P1  
**状态**: ?? 待决策

**任务**:
- [ ] 插件接口设计
- [ ] 插件加载机制
- [ ] 插件生命周期
- [ ] 插件权限系统
- [ ] 插件沙箱隔离

### Session-22-24: 插件市场 (如果实施)

**时间**: 8-10 小时  
**优先级**: P1  
**状态**: ?? 待决策

**任务**:
- [ ] 插件市场 UI
- [ ] 插件搜索下载
- [ ] 插件安全审核
- [ ] 官方插件开发

### Session-25: 插件文档和测试

**时间**: 3-4 小时  
**优先级**: P1  
**状态**: ?? 待决策

**任务**:
- [ ] 插件开发文档
- [ ] 示例插件
- [ ] 插件测试

---

## ?? Phase 5: 脚本执行系统 (V1.2)

**目标**: 实现 P2 高级功能  
**预计时间**: 15-20 小时  
**状态**: ?? 暂缓

**注意**: 定时任务功能已部分实现脚本执行场景

**评估**:
- ? 定时任务已支持定时执行
- ? 关联操作已支持打开文件/URL/应用
- ? 缺少自定义脚本编辑器
- ? 缺少脚本安全沙箱

**建议**: 
1. 先完成 Phase 1-3
2. 评估用户对脚本功能的需求
3. 决定是否作为插件实现

---

## ?? Phase 6: OCR/数据提取 (V2.0)

**目标**: 实现 P3 特色功能  
**预计时间**: 20-30 小时  
**状态**: ?? 暂缓

**技术栈**:
- Tesseract OCR
- OpenCV
- 数据解析引擎

**建议**: V2.0 考虑

---

## ?? 时间线规划

### 2025年1月 (当前)

| 周 | Session | 内容 | 时长 | 状态 |
|----|---------|------|------|------|
| W1 | Session-10 | 截止时间功能 | 3-4h | ? 已完成 |
| W1-W2 | Session-11 | 分类标签系统 | 3-4h | ?? 下一步 |
| W2 | Session-12 | 数据备份恢复 | 2-3h | ?? 计划中 |
| W2 | Session-13 | 界面优化 | 2-3h | ?? 计划中 |

**目标**: 完成 Phase 1 和 Phase 2

### 2025年2月

| 周 | Session | 内容 | 时长 |
|----|---------|------|------|
| W1 | Session-14 | 性能和测试 | 2-3h |
| W1-W2 | Session-15 | 后端 API (上) | 5-8h |
| W2-W3 | Session-16 | 后端 API (下) | 5-8h |
| W3-W4 | Session-17-18 | 客户端集成 | 5-8h |

**目标**: 完成 Phase 3

### 2025年3月

**决策点**: 是否实施插件体系

**选项 A**: 继续开发插件体系 (6-8周)  
**选项 B**: 优化和测试，准备 v1.0 发布 (2-3周)

---

## ?? 里程碑

### v0.75 - Session-10 完成 ? (当前)

**日期**: 2025-01-02  
**新增特性**:
- ? DueDate 数据模型
- ? 截止时间编辑和显示
- ? 过期提醒通知
- ? 日历视图集成
- ? Bug修复（清除按钮、数据保存）

**完成度**: P0 → 70%

**详细**: [Session-10完成总结](../01-会话记录/Session-10/Session-10完成总结.md)

---

### v0.8 - Session-12 完成 (目标)

**预计日期**: 2025-01-10  
**新增特性**:
- ? 截止时间功能（已完成）
- ? 分类标签系统
- ? 数据备份恢复

**完成度**: P0 → 85%

---

### v0.9 - Session-14 完成 (目标)

**预计日期**: 2025-01-15  
**新增特性**:
- ? UI/UX 优化
- ? 性能优化
- ? 单元测试

**完成度**: P0 → 90%

---

### v1.0 - Session-18 完成 (目标)

**预计日期**: 2025-02-28  
**新增特性**:
- ? 账号登录
- ? 云端同步
- ? 多设备协同

**完成度**: P0 → 95%+

**状态**: 功能完整，可正式发布

---

## ?? 优先级矩阵

### 高优先级 (立即实施)

| 功能 | 时长 | 影响 | ROI | 状态 |
|-----|------|------|-----|------|
| 截止时间 | 3-4h | ????? | ?????????? | ? 完成 |
| 分类标签 | 3-4h | ???? | ???????? | ?? 下一步 |
| 数据备份 | 2-3h | ???? | ???????? | ?? 计划中 |
| UI 优化 | 2-3h | ??? | ?????? | ?? 计划中 |
| 性能优化 | 2-3h | ??? | ?????? | ?? 计划中 |

### 中优先级 (短期实施)

| 功能 | 时长 | 影响 | ROI |
|-----|------|------|-----|
| 账号同步 | 15-20h | ???? | ?????? |
| 单元测试 | 2-3h | ??? | ?????? |

### 低优先级 (待评估)

| 功能 | 时长 | 影响 | ROI |
|-----|------|------|-----|
| 插件体系 | 25-35h | ????? | ???? |
| 脚本执行 | 15-20h | ??? | ?? |
| OCR 功能 | 20-30h | ?? | ?? |

---

## ?? 关键决策

### 决策 1: 产品定位 ??

**问题**: 简洁工具 vs 可扩展平台？

**影响**: 
- 开发时间: 6-8周 vs 3-4个月
- 资源投入: 中等 vs 大量
- 差异化: 中等 vs 强

**建议**: 
1. 先完成 P0 核心功能
2. 收集用户反馈
3. 根据反馈决定方向

**决策时间**: Session-14 完成后

---

### 决策 2: 云同步方案 ??

**选项 A: 自建后端**
- 优点: 完全控制、无第三方依赖
- 缺点: 开发时间长、维护成本高

**选项 B: Firebase**
- 优点: 快速实现、成熟稳定
- 缺点: 成本较高、国内访问问题

**选项 C: Supabase**
- 优点: 开源、功能全面
- 缺点: 国内资源少

**建议**: 
- MVP 阶段: Firebase 快速验证
- 正式版: 自建后端或 Supabase

**决策时间**: Session-14 完成后

---

### 决策 3: 插件体系实施 ??

**问题**: 是否实施插件体系？

**场景 A: 实施**
- 时间: +25-35h
- 优势: 强差异化、生态潜力
- 风险: 复杂度高、ROI 不确定

**场景 B: 不实施**
- 时间: 专注核心功能
- 优势: 快速迭代、简洁稳定
- 风险: 差异化不足

**建议**: 
- 先完成 P0 核心功能
- 评估市场反馈
- V1.1 再决定

**决策时间**: v1.0 发布后

---

## ?? 成功指标

### 技术指标

- [ ] P0 功能完成度 > 90%
- [ ] 代码测试覆盖率 > 60%
- [ ] 应用启动时间 < 3s
- [ ] 内存占用 < 100MB
- [ ] CPU 占用 < 5%

### 功能指标

- [ ] 支持 20+ 待办同时挂载
- [ ] 支持 10+ 定时任务
- [ ] 支持 5+ 标签分类
- [ ] 数据备份/恢复成功率 100%

### 用户体验

- [ ] 核心操作 < 3 步
- [ ] 响应时间 < 0.5s
- [ ] 无明显卡顿
- [ ] 错误提示友好

---

## ?? 相关文档

### 规划文档
- [Session-11 详细规划](./Session-11-分类标签系统规划.md) ? 下一步
- [Session-11 快速启动](./Session-11-快速启动.md) ? 下一步

### 分析文档
- [PRD 功能对比分析](../02-功能文档/PRD功能实现对比分析报告.md)
- [PRD 快速参考](../02-功能文档/PRD对比分析-快速参考.md)

### 历史会话
- [Session-10 完成总结](../01-会话记录/Session-10/Session-10完成总结.md) ? 最新

---

## ?? 更新日志

### v1.1 - 2025-01-02

- **重大更新**: Session-10 完成
- 更新当前版本为 v0.75
- P0 完成度提升至 70%
- 添加 Session-11 详细规划
- 更新时间线和优先级矩阵
- 调整里程碑规划

### v1.0 - 2025-01-02

- 初始版本
- 基于 Session-09 完成状态
- 基于 PRD 对比分析结果
- 规划到 v1.0 发布

---

**路线图版本**: 1.1  
**更新时间**: 2025-01-02  
**维护者**: SceneTodo 团队  
**下次更新**: Session-11 完成后

**?? Session-10 完成！准备开启 Session-11！** ??
